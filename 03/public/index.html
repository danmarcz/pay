<!doctype html>
<html ng-app>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script type="text/javascript" src="script.js"></script>
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
</head>

<body>

<div class="container">

<form role="form" name="myForm" ng-controller="FormController">

  <div class="row">
    <hr/>
    <div class="form-group col-xs-2">
      <label for="days">Počet dní</label>
      <input type="number" min="0" id="days" ng-model="days" ng-change="changeAll()" class="form-control">
    </div>
    <div class="form-group col-xs-2">
      <label for="foodType">Stravování</label>
      <select id="foodType" ng-model="foodType" ng-change="changeAll()" ng-options="ft.name for ft in foodTypes" class="form-control"></select>
    </div>
  </div>


 <div ng-repeat="item in items">
  <div class="row">
    <hr/>
    <div class="form-group col-xs-2">
      <label for="exampleSelect">Číslo pokoje</label>
      <select id="exampleSelect" ng-model="item.room" ng-options="r.id for r in rooms" class="form-control"></select>
    </div>
    <div class="col-xs-4">
      <label for="note">Hosté</label>
      <input type="text" ng-model="item.name" class="form-control">
    </div>
    <div class="col-xs-4">
      <label>&nbsp;</label>
      <span class="form-control">{{item.room.desc}}</span>
    </div>
    <div class="col-xs-1">
      <label for="removeRoom">&nbsp;</label>
      <button type="button" id="removeRoom" ng-click="items.splice($index, 1)" class="btn btn-danger form-control">&times;</button>
    </div>
  </div>
  <div class="row">
    <div class="col-md-2">
      <label>&nbsp;</label>
      <h4>Ubytování</h4> 
    </div>
    <div class="col-md-1">
      <label for="exampleInput1">Dospělí</label>
      <input type="number" ng-model="item.acc.adults" min="0" max="9" ng-change="change(item)" class="form-control" id="exampleInput1">
    </div>
    <div class="col-md-1">
      <label for="exampleInput2">Děti</label>
      <input type="number" ng-model="item.acc.children" min="0" max="9" ng-change="change(item)" title="děti 3-12 let" class="form-control" id="exampleInput2">
    </div>
    <div class="col-md-1">
      <label>Přistýlka</label><br/>
      <input type="checkbox" ng-model="item.acc.extrabed" ng-change="change(item)" value="yes"> 
    </div>
    <div class="col-md-1">
      <label for="exampleInput3">Postýlka</label>
      <input type="number" ng-model="item.acc.babybeds" min="0" max="2" ng-change="change(item)" class="form-control" id="exampleInput3">
    </div>
    <div class="col-md-2">
      <label for="exampleInput4">Cena za ubytování</label>
      <input type="text" ng-model="item.accPrice" class="form-control" id="exampleInput4" readonly>
    </div>
    <div class="col-md-3">
      <label for="exampleInput9">Poznámka</label>
      <input type="text" ng-model="item.acc.priceDesc" class="form-control" id="exampleInput9" readonly>
    </div>
  </div>
  <div class="row">
    <div class="col-md-2">
      <label>&nbsp;</label>
      <h4>Strava</h4> 
    </div>
    <div class="col-md-1">
      <label for="exampleInput1Food">Dospělí</label>
      <input type="number" ng-model="item.food.adults" min="0" max="9" ng-change="change(item)" class="form-control" id="exampleInput1Food">
    </div>
    <div class="col-md-1">
      <label for="exampleInput2Food">Děti</label>
      <input type="number" ng-model="item.food.children" min="0" max="9" ng-change="change(item)" title="děti 3-12 let" class="form-control" id="exampleInput2Food">
    </div>
    <div class="col-md-2"></div>
    <div class="col-md-2">
      <label for="exampleInput4">Cena za stravu</label>
      <input type="text" ng-model="item.foodPrice" class="form-control" id="exampleInput4" readonly>
    </div>
  </div>
 </div>

  <hr/>

  <button type="submit" id="addRoom" ng-click="addRoom()" class="btn btn-success">+</button>
  <label for="addRoom">&nbsp;Přidat další pokoj</label>

  <hr/>

  <div class="row">
    <p>Cena celkem: <strong>{{ totalPrice }} Kč</strong></p>
    <p>Všechny uvedené ceny jsou včetně DPH.</p>
  </div>
 
  <hr/>
  Debug View:
  <pre>items={{items | json}}</pre>
  <pre>foodType={{foodType | json}}</pre>
  <pre>days={{days | json}}</pre>

</form>


</div>

</body>
</html>
